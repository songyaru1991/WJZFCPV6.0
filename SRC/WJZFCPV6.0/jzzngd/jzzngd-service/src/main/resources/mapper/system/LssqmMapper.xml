<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.netmarch.jzzngd.system.mapper.LssqmMapper">
  <resultMap id="BaseResultMap" type="com.netmarch.jzzngd.system.bean.Lssqm">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Jul 02 17:10:08 CST 2019.
    -->
    <result column="ID" jdbcType="VARCHAR" property="id" />
    <result column="LSID" jdbcType="VARCHAR" property="lsid" />
    <result column="AJBS" jdbcType="VARCHAR" property="ajbs" />
    <result column="SQM" jdbcType="VARCHAR" property="sqm" />
    <result column="KSSJ" jdbcType="TIMESTAMP" property="kssj" />
    <result column="JSSJ" jdbcType="TIMESTAMP" property="jssj" />
    <result column="DYCS" jdbcType="INTEGER" property="dycs" />
    <result column="XZCS" jdbcType="INTEGER" property="xzcs" />
    <result column="SCSJ" jdbcType="TIMESTAMP" property="scsj" />
    <result column="SFZF" jdbcType="INTEGER" property="sfzf" />
  </resultMap>
  <insert id="insert" parameterType="com.netmarch.jzzngd.system.bean.Lssqm">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Jul 02 17:10:08 CST 2019.
    -->
    insert into lssqm (ID, LSID, AJBS, 
      SQM, KSSJ, JSSJ, 
      DYCS, XZCS, SCSJ, 
      SFZF)
    values (#{id,jdbcType=VARCHAR}, #{lsid,jdbcType=VARCHAR}, #{ajbs,jdbcType=VARCHAR}, 
      #{sqm,jdbcType=VARCHAR}, #{kssj,jdbcType=TIMESTAMP}, #{jssj,jdbcType=TIMESTAMP}, 
      #{dycs,jdbcType=INTEGER}, #{xzcs,jdbcType=INTEGER}, #{scsj,jdbcType=TIMESTAMP}, 
      #{sfzf,jdbcType=INTEGER})
  </insert>
  <insert id="insertSelective" parameterType="com.netmarch.jzzngd.system.bean.Lssqm">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Jul 02 17:10:08 CST 2019.
    -->
    insert into lssqm
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="id != null">
        ID,
      </if>
      <if test="lsid != null">
        LSID,
      </if>
      <if test="ajbs != null">
        AJBS,
      </if>
      <if test="sqm != null">
        SQM,
      </if>
      <if test="kssj != null">
        KSSJ,
      </if>
      <if test="jssj != null">
        JSSJ,
      </if>
      <if test="dycs != null">
        DYCS,
      </if>
      <if test="xzcs != null">
        XZCS,
      </if>
      <if test="scsj != null">
        SCSJ,
      </if>
      <if test="sfzf != null">
        SFZF,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="id != null">
        #{id,jdbcType=VARCHAR},
      </if>
      <if test="lsid != null">
        #{lsid,jdbcType=VARCHAR},
      </if>
      <if test="ajbs != null">
        #{ajbs,jdbcType=VARCHAR},
      </if>
      <if test="sqm != null">
        #{sqm,jdbcType=VARCHAR},
      </if>
      <if test="kssj != null">
        #{kssj,jdbcType=TIMESTAMP},
      </if>
      <if test="jssj != null">
        #{jssj,jdbcType=TIMESTAMP},
      </if>
      <if test="dycs != null">
        #{dycs,jdbcType=INTEGER},
      </if>
      <if test="xzcs != null">
        #{xzcs,jdbcType=INTEGER},
      </if>
      <if test="scsj != null">
        #{scsj,jdbcType=TIMESTAMP},
      </if>
      <if test="sfzf != null">
        #{sfzf,jdbcType=INTEGER},
      </if>
    </trim>
  </insert>
  <update id="updateSelective" parameterType="com.netmarch.jzzngd.system.bean.Lssqm">
    update lssqm set
    <trim suffixOverrides=",">
      <if test="lsid != null">
        LSID = #{lsid},
      </if>
      <if test="ajbs != null">
        AJBS = #{ajbs},
      </if>
      <if test="sqm != null">
        SQM = #{sqm},
      </if>
      <if test="kssj != null">
        KSSJ = #{kssj},
      </if>
      <if test="jssj != null">
        JSSJ = #{jssj},
      </if>
      <if test="dycs != null">
        DYCS = #{dycs},
      </if>
      <if test="xzcs != null">
        XZCS = #{xzcs},
      </if>
      <if test="scsj != null">
        SCSJ = #{scsj},
      </if>
      <if test="sfzf != null">
        SFZF = #{sfzf},
      </if>
    </trim>
    where ID = #{id}
  </update>
  <!-- gdy begin -->
  <select id="getLslistByAjbs" parameterType="string" resultType="com.netmarch.jzzngd.system.bean.Lssqmyj">
  select ls.xm xm, ls.sfzh sfzh, ls.lssws lssws, DATE_FORMAT( sqm.kssj,'%Y-%m-%d %H:%i:%S') kssj, DATE_FORMAT( sqm.jssj,'%Y-%m-%d %H:%i:%S') jssj, ls.jrjd jrjd, sqm.sqm sqm, sqm.sfzf sfzf, sqm.id sqmid from lssqm sqm
  left join ls on ls.id = sqm.lsid
  where sqm.ajbs = #{ajbs}
</select>

  <select id="getInfoById" parameterType="string" resultType="com.netmarch.jzzngd.system.bean.Lssqm">
    select ID, LSID, AJBS, SQM, KSSJ, JSSJ, DYCS, XZCS, SCSJ, SFZF from lssqm where ID = #{lssqmid}
  </select>

  <update id="lssqCancel" parameterType="string">
    update lssqm set SFZF = 1 where ID = #{lssqmid}
  </update>

  <select id="getInfoBySqm" parameterType="string" resultType="com.netmarch.jzzngd.system.bean.Lssqm">
    select  ID, LSID, AJBS, SQM, KSSJ, JSSJ, DYCS, XZCS, SCSJ, SFZF from lssqm where SQM = #{sqm} and (SFZF &lt;&gt; 1 or SFZF is null)
  </select>
  <!-- gdy end -->
</mapper>